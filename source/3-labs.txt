                         2.3. Деревья

   Общими требованиями к лабораторной работе являются:
   1) вводить   исходное   дерево  из  файла  в  понятной  для
пользователя форме, а не с клавиатуры;
   2) по требованию прользователя показывать дерево на экране;
   3) обрабатывать  дерево  в  оперативной памяти,  а не путем
многократного обращения к файлу;
   4) обеспечить   возможность   многократных   запросов   без
повторного запуска программы.

   1. Изделие задано  с  помощью  дерева.  В  листьях  указаны
значения  массы  соответствующих деталей.  Масса сборного узла
определяется как сумма масс составляющих деталей. Требуется:
   1) рассчитать массу всего изделия;
   2) организовать  обход  листьев,  запрашивая новые значения
массы и сообщая, как при этом меняется масса изделия (7).

   2. Ввести  произвольное  сильно  ветвящееся дерево.  Выдать
списки вершин:
   1) являющихся листьями;
   2) не являющихся листьями;
   3) родителей листьев;
   4) заданного уровня, считая от вершины (7).

   3. В    листьях    дерева,    соответствующего    некоторой
конструкции,  указаны  минимально  возможные  значения  массы.
Задана   предельно  допустимая  масса  конструкции.  Требуется
определить максимально возможное  значение  массы  для  каждой
вершины дерева (7).

   4. В  листьях  бинарного  дерева  указаны   идентификаторы
переменных,  в других вершинах - знаки арифметических операций
или функции SIN,  COS, TG, CTG, LOG, EXP. Возможны одноместные
операции типа '+' или '-'.  Два  друга независимо  представили
одно и то же выражение, но в операциях '+' и '*' могли поменять
порядок операндов.  Проверить, соответствуют ли деревья одному
и тому же выражению (8).

   5. В    листьях    дерева,    соответствующего    некоторой
конструкции,  указаны  значения  массы.  Масса  сборного  узла
определяется как сумма масс  составляющих  деталей.  Требуется
определить  значение  массы  для каждого узла конструкции,  не
превосходящего заданного уровня от вершины дерева (8).

   6. Имеется дерево, корень которого соответствует основателю
рода.  Сыновья  каждой  вершины  задают  сыновей   и   дочерей
соответствующего    человека.   Указывается   имя   некоторого
человека.  Требуется выдать имена его детей,  внуков, сестер и
братьев, одного из родителей, дедушки или бабушки (8).

   7. Имеются  две  статьи.  Каждая  из  них  включает  список
источников.  В  них в свою очередь могут быть ссылки на другие
источники.  Известны год и месяц опубликования каждой  статьи.
Проверить  корректность  ввода  информации.  Определить  общие
источники двух статей, начиная с заданного года (8).

   8. Теннисный  турнир  проходит  по  олимпийской  системе  с
выбываниями. В турнире участвуют 2^n игроков. Известен рейтинг
каждого игрока.  Результаты турнира записаны с помощью дерева.
Сенсацией считается выигрыш игрока с меньшим рейтингом. Выдать
список всех сенсаций турнира с указанием номера тура,  а также
главные сенсации, которые определяется  максимальной  разницей
рейтингов (8). 

   9. Структура  некоторого института задана деревом. Сыновьям
корневой вершины соответствуют факультеты,  факультеты в  свою
очередь  делятся  на  кафедры,  которые  могут  иметь филиалы.
Листьям   дерева    соответствуют    преподаватели.    Выявить
преподавателей, ведущих занятия на трех и более кафедрах (9).

   10. Задано  сильно ветвящееся дерево. При  его  вводе  могли
быть  сделаны ошибки.  Провести проверку на отсутствие циклов,
то есть повторяющихся вершин.  При обнаружении цикла выдать на
экран последовательность вершин, составляющих цикл (9).

   11. Имеется план школьного сочинения, записанный с  помощью
дерева.  Два друга решили написать сочинение вместе. Каждый из
них независимо  взял  несколько  частей,  задавая  их  корнями
соответствующих    поддеревьев.    Требуется    выдать    план
неохваченной части сочинения (9).

   12. Имеется   дерево,   корень    которого    соответствует
основателю  рода.  Сыновья  каждой  вершины  задают  сыновей и
дочерей  соответствующего  человека.  Указываются  имена  двух
человек  (например,  А  и  В).  Сообщить,  какая  из следующих
ситуаций имеет место:
   1) А предок В;
   2) В предок А;
   3) А и В имеют ближайшего общего предка С (9).

   13. Имеется  дерево  вызовов  процедур некоторой программы.
Структура программы такова,  что каждая  вызываемая  процедура
вложена в вызывающую ее процедуру. Задан объем памяти, который
требуется  для  загрузки  каждой  процедуры.  При  выходе   из
процедуры  занимаемая ей память освобождается.  Известно,  что
вызов процедур  при  работе  программы  соответствовал  обходу
дерева  в  порядке  сверху вниз.  Дать трассировку программы в
виде списка вызываемых процедур.  Процедура должна попадать  в
список, если к ней произошло обращение из вызывающей процедуры
либо возврат управления из вызванной ей  процедуры. Определить
размер  памяти,  необходимый  для работы программы,  и цепочку
вызовов, требующую максимальной памяти (9).

   14. Информация  о  файлах  на  жестких  дисках   компьютера
записана с помощью дерева. Внешнюю память компьютера увеличили
путем подключения нового жесткого диска. Решено  перенести  на
него все папки, в которых содержатся только файлы *.cpp вместе
с папками до корня дерева. Сформировать и показать  на  экране
получившееся дерево папок (10).

   15. В   некотором   институте   информация   об   имеющихся
компьютерах  задана   деревом.   Сыновьям   корневой   вершины 
соответствуют факультеты,  факультеты в  свою очередь  делятся
на  кафедры, кафедры  могут иметь в своем составе лаборатории. 
Компьютеры могут быть установлены в общих факультетских классах,
на кафедрах,  в  лабораториях  и идентифицируются  уникальными 
номерами. Требуется найти:
 1) факультеты с минимальным и максимальным числом компьютеров;
 2) кафедры с минимальным и максимальным числом компьютеров(10).

   16. В  листьях  бинарного  дерева  указаны   идентификаторы
переменных,  в других вершинах - знаки арифметических операций
или функции SIN,  COS, TG, CTG, LOG, EXP. Возможны одноместные
операции типа '+' или '-'. В этом случае требуется только один
операнд.    Значения    переменных     известны.     Проверить
синтаксическую  правильность идентификаторов.  Выдать на экран
выражение в инфиксной форме со  скобками. Запросить в  диалоге
значения переменных и определить результат вычисления выражения.
   Пример: ((-(((a1*bar)+c))-(((SIN(dors))-e)))) (10).

   17. Информация  о  файлах  на  жестких  дисках   компьютера
записана с помощью дерева. Листьям соответствуют файлы. Удалить
все копии одного и того же файла, оставив самую позднюю.  Если
папка оказывается пустой, то она тоже должна быть удалена (10).

   18. Задано бинарное  дерево.  Построить  прошитое   дерево,
соответствующее обходу сверху вниз. Составить программу удале-
ния поддерева с  корнем  в  заданной  вершине  без  повторного
построения дерева. Конечное дерево должно оставаться прошитым. 
Выдать информацию о нитях исходного и конечного деревьев (11).

   19. Теннисный  турнир  проходит  по  олимпийской  системе с
выбываниями. В турнире участвуют 2^n игроков. Известен рейтинг
каждого игрока. Чем больше рейтинг, тем выше мастерство игрока.
В первом туре сильнейший игрок встречается со слабейшим, второй
по рейтингу с предпоследним и т. д. Организаторы собираются и в
дальнейшем  придерживаться  этого  принципа, предполагая, что в
очередной  тур  будет  выходить  сильнейшая  половина   игроков
предыдущего  тура.  Известно,  что  турнир  прошел   в   полном 
соответствии с рейтингом игроков. Требуется показать в наглядном
виде дерево проведенного турнира (11).

   20. В   некотором   институте   информация   об   имеющихся
компьютерах  задана двумя деревьями.  В первом из них сыновьям
корневой вершины соответствуют факультеты,  факультеты в  свою
очередь  делятся  на  кафедры,  кафедры  могут  иметь  в своем
составе лаборатории. Компьютеры могут быть установлены в общих
факультетских   классах,   на   кафедрах,   в  лабораториях  и
идентифицируются  уникальными  номерами.  Во   втором   дереве
сыновьям корня соответствуют учебные корпуса, корпуса включают
списки  аудиторий,  а  для  каждой  аудитории  заданы   номера
находящихся  в  них  компьютеров.  Некоторые  аудитории  могут
принадлежать  нескольким  факультетам.  Выдать  список   таких
аудиторий (11).

   21. Трассировка  программы,   не   содержащей   рекурсивных
вызовов  и  повторяющихся  имен  процедур,  распечатана в виде
списка выполняемых процедур. Процедура попадает в список, если
к ней произошло обращение из вызывающей процедуры либо возврат
управления из  вызванной  ей  процедуры.  Структура  программы
такова,  что  каждая вызываемая процедура вложена в вызывающую
ее процедуру.  Начало и  окончание  программы  должны  быть  в
головной процедуре.  Известен объем памяти,  который требуется
для  загрузки  каждой  процедуры.  При  выходе  из   процедуры
занимаемая ей память освобождается.  Построить и выдать дерево
вызовов процедур.  Определить размер памяти,  необходимый  для
работы  программы,  и цепочку вызовов,  требующую максимальной
памяти (11).

   22. Имеется некоторое  алгебраическое выражение.  Операнды
заданы идентификаторами,  операции выполняются по приоритетам,
допускается использование круглых скобок. Возможны одноместные
операции '+' и '-', а также операция возведения в степень '^'.
Требуется построить и выдать в наглядном виде бинарное дерево,
представляющее данное выражение (11).

   23. Имеется   И-ИЛИ   дерево,   соответствующее  некоторому
множеству конструкций.  Конструктор  дает список нежелательных
узлов. Требуется усечь дерево так, чтобы дерево  не  содержало
нежелательных  узлов  (вместе  с  вершиной  должно  отсекаться
поддерево,  висящее на сыне первой ИЛИ-вершины по пути к корню
дерева) (11).

   24. В  листьях  И-ИЛИ  дерева,  соответствующего некоторому
множеству  конструкций,  заданы   значения   массы.   Известно
максимально допустимое значение массы изделия. Требуется усечь
дерево   так,   чтобы   дерево    включало    все    элементы,
соответствующие  допустимым  значениям массы,  но не содержало
"лишних" вершин.  Конечное дерево выдать на экран в  наглядном
виде (12).

   25. Задано   И-ИЛИ   дерево,   соответствующее   некоторому
множеству изделий. Требуется:
   1) найти число изделий,  записанное с помощью этого дерева;
   2) если  число  изделий  больше  N,  организовать  усечение
дерева  в  диалоге  в  порядке  обхода сверху вниз,  спрашивая
пользователя, какие сыновья ИЛИ-вершин отсекать и сообщая, как
при этом сокращается число изделий.
   Если усекаются  все сыновья ИЛИ-вершины,  то отсекается она
сама и все поддерево,  висящее на сыне первой  ИЛИ-вершины  по
пути к корню дерева).
   УКАЗАНИЕ: если  корни   нескольких   поддеревьев   являются
сыновьями   И-вершины,   то   общее   число   элементов  равно
произведению  числа  элементов  поддеревьев,  а   если   корни
поддеревьев  -  сыновья ИЛИ-вершины,  то общее число элементов
находится как сумма числа элементов в поддеревьях.
   Начальное и  конечное  деревья  выдать на экран в наглядном
виде (12).

   26. Информация  о  файлах  на  жестких  дисках   компьютера
записана  с  помощью  дерева.  Обеспечить выполнение следующих
операций:
   1) загрузку дерева в память из файла;
   2) обход дерева папок в  режиме  диалога  (раскрытие папок,
      подъем на уровень и т. п.); 
   3) корректировку  дерева при создании новых папок и файлов,
их переименовании, копировании, переносе и удалении. 
   4) сохранение дерева в файле (13).

   27. Имеется  И-ИЛИ   дерево,   соответствующее   некоторому
множеству  конструкций.  Требуется выдать на экран в наглядном
виде все элементы дерева (13).

   28. В офисе фирмы  Megasoft  установлены  N  компьютеров  с 
номерами от 1 до N, некоторые из них  соединены  между  собой. 
Сообщение между соединенными компьютерами проходит в любом  из 
двух направлений за 1 с. Компьютер,  получив  сообщение, сразу 
отправляет  его  всем  соединенным  с  ним  компьютерам.  Cеть 
устроена так, что между любыми двумя компьютерами  есть  путь, 
причем только один. Найти номера всех компьютеров,  с  которых 
главный программист Гилл Бейтс может отправить сообщение  так, 
чтобы максимальная задержка в  получении  сообщения  была  как 
можно меньше. 
  Ввод из файла INPUT.TXT. В первой строке вводится значение N 
(1<=N<=10^5). В каждой из следующих N-1  строк  вводится через 
пробел пара номеров компьютеров, обозначающая соединение.
  Вывод в файл OUTPUT.TXT. В первой строке выводится количество
искомых компьютеров M. Во второй строке выдаются через пробел в
порядке возрастания номера искомых компьютеров.
  Время счета не должно превышать 2 сек.
  Пример
  Ввод
4
1 2
4 3
2 3
  Вывод
2
2 3
  Указание. Предложить структуру данных, обеспечивающую быстрое
нахождение листьев бескорневого дерева из условия задачи (13).